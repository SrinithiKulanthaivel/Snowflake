Roles :
AccountAdmin : Top-level, granted to limited no.of users.
SecurityAdmin: Monitor and manage users & roles. - Modify, grant or revoke privileges.
UserAdmin    : Create User and roles. - Grant Privileges to other roles.
SysAdmin     : Privileges to create db objects - grant privileges on db objects to other roles.
OrgAdmin     : Manage Operations at organization level
Public       : Automatically assigned to all users and roles. 

Snowflake Architecture: 
      Cloud Service  - Brain of the system, managing infrastructure, access control, security, metadata,....
      Query Processing - Muscle of the system, Perform Massive Parallel Processing (MPP)
      Storage - Hybrid Columnar Storage, Stored as blob. 

Snowflake architectg is hybrid of the following two types. 
    *  "Shared Disk Database" - Shared memory space through network.
            Internet -> CPU1, CPU2  ---network-->   Disk1, Disk2,Disk3 
    *  "Shared Nothing Database". - separate memory space. 
            Internet -> CPU 1 -> Disk1, Disk2,Disk3
                     -> CPU 1 -> Disk1, Disk2,Disk3

Object Hierarchy 

Organisation -> Account -> Users
                        -> Roles
                        -> Warehouses
                        -> Databases
                              -> Schema
                                    -> Tables
                                    -> Views
                                    -> Stage
                                    -> Stored Procedures
                                    -> UDF

WareHouse - is a cluster of computing resource. Combination of CPU, Memory & Temp Storage.
      - Executing sql queries
      - Data Loading & unloading
      - Size from xs to 5xl
      - Two types - Single Cluster & Multi Cluster


User Defined Functions - UDF
      Extend operations that are not available throught system defined functions
      Reusable code written in SQL, java, python & java script
      It is of two types
            Scalar - function return one output row.
            Tabular - also called table function return zero, one, or multiple row.

External Functions: 
      an external function calls  code that is executed outside snowflake.
      The remotely executed code is known as a remot3e service
      Information sent to a remote service is usually relayed through a proxy service
      External functions are the functions that is stored and executed outside snowflake.

Sample program steps: 

step1 : Create a lambda function in AWS and deploy it. 
step2 : Note the function name and account detail.
step3 : Create an IAM role to access lambda and note rolename and role arn.
step4 : Create an API gateway using rest API, in which we will create a method-> Post/Get/Delete/Update and give the lambda function name(already create lambda) and deploy it.and copy the api arn.
step5 : 

Other ways to connect with Snowflake : 

Local system to Snowflake : In our local system, need to install Snowflake-python-connector.jar and need to give required configuration similar to sql db connection.

AWS Glue : It is used to run the serverless jobs. we can create either in Python jobs/ spark jobs. And put the python code in Glue and run it. we can also pass parameters. 
            In Glue , how many transcations we pass, each get executed separately in snowflake.  ie : 5 transformation - 5 execution in snowflake.

PYSpark : Similar to Glue, but it will internally perfrom pushdown(filter) and then execute the required transcations. 
            ie: if we pass 5 transcation, inside snowflake it will check all the transcation and first filter what are the common tasks and what needs to be executed.
            And then only execute the required tasks. 
      In Spark, we need to download snowflake connector and spark Snowflake jars. 



